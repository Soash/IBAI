{% extends 'base.html' %}
{% load static i18n %}

{% block extra_css %}
<style>
.sidebar-sticky-col {
    position: sticky;
    top: 100px; /* distance from top when scrolling */
    align-self: flex-start; /* prevents flex layout from breaking sticky */
}
</style>
{% endblock extra_css %}

{% block content %}

<main class="main_wrapper">  <!-- removed overflow-hidden -->

    {% include 'partials/top-banner.html' %}
    {% include 'partials/navbar.html' %}
    {% include 'partials/mobile-menu.html' %}

    <div class="breadcrumbarea">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="breadcrumb__content__wraper" data-aos="fade-up">
                        <div class="breadcrumb__title">
                            <h2 class="heading">Thesis Support</h2>
                        </div>
                        <div class="breadcrumb__inner">
                            <ul>
                                <li><a href="/">Home</a></li>
                                <li>Thesis Support</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="shape__icon__2">
            <img loading="lazy" class="shape__icon__img shape__icon__img__1" src="{% static 'img/herobanner/herobanner__1.png' %}">
            <img loading="lazy" class="shape__icon__img shape__icon__img__2" src="{% static 'img/herobanner/herobanner__2.png' %}">
            <img loading="lazy" class="shape__icon__img shape__icon__img__3" src="{% static 'img/herobanner/herobanner__3.png' %}">
            <img loading="lazy" class="shape__icon__img shape__icon__img__4" src="{% static 'img/herobanner/herobanner__5.png' %}">
        </div>
    </div>

    <div class="container py-5">
        <div class="row">

            <!-- Thesis Content -->
            <div class="col-xl-8 col-lg-8 mb-4">
                {% if theses %}
                <div class="row g-4">
                    {% for post in theses %}
                    <div class="col-md-6">
                        <div class="card h-100 shadow-sm border-0 rounded-4 overflow-hidden hover-shadow transition-all">
                            {% if post.image %}
                            <div class="ratio ratio-16x9">
                                <img src="{{ post.image.url }}" class="img-fluid" style="width:100%; height:100%; object-fit:cover;">
                            </div>
                            {% endif %}
                            <div class="card-body p-4 d-flex flex-column">
                                <h5 class="card-title mb-2">
                                    <a href="{% url 'thesis_details' post.slug %}" class="text-decoration-none text-dark fw-semibold">
                                        {{ post.title }}
                                    </a>
                                </h5>
                                <div class="flex-grow-1 text-muted post-content">
                                    {{ post.content|truncatewords_html:25|safe }}
                                </div>
                                <a href="{% url 'thesis_details' post.slug %}" class="btn btn-outline-primary w-100 mt-3">
                                    Read More â†’
                                </a>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="text-center text-muted py-5">
                    <p>No theses support available yet.</p>
                </div>
                {% endif %}
            </div>

            <!-- Sticky Sidebar -->
            <div class="col-xl-4 col-lg-4 sidebar-sticky-col">
                <div class="course__details__sidebar">
                    <div class="event__sidebar__wraper">
                        <div class="course__summery__button">
                            <a href="https://forms.gle/vnWyAE8QQoUEWLKC9" class="default__button">Register Now</a>
                        </div>

                        <div class="course__summery__lists">
                            <ul>
                                <li><div class="course__summery__item"><span class="sb_label">Duration</span><span class="sb_content">4-6 Months</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Support</span><span class="sb_content">Online & Offline</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Session</span><span class="sb_content">One-to-One</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Type</span><span class="sb_content">Thesis / Project</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Mentor</span><span class="sb_content">Yes</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Response</span><span class="sb_content">4 Hours / 7 Days</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Software Access</span><span class="sb_content">Yes</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Technical Support</span><span class="sb_content">Yes</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Language</span><span class="sb_content">Bangla</span></div></li>
                                <li><div class="course__summery__item"><span class="sb_label">Certificate</span><span class="sb_content">Yes</span></div></li>
                            </ul>
                        </div>

                        <div class="course__summery__button">
                            <p>More inquiry about course.</p>
                            <a class="default__button default__button--3" href="tel:+8801517831136">
                                <i class="icofont-phone"></i> +880 1517 831 136
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- END Sticky Sidebar -->

        </div>
    </div>

    {% include 'partials/footer.html' %}
</main>

{% endblock %}

{% block extra_javascript %}
<script></script>
{% endblock extra_javascript %}
